{"ast":null,"code":"import _regeneratorRuntime from \"/Users/xuanmingcui/Documents/projects/analytics-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/xuanmingcui/Documents/projects/analytics-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"/Users/xuanmingcui/Documents/projects/analytics-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/xuanmingcui/Documents/projects/analytics-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/xuanmingcui/Documents/projects/analytics-webapp/src/views/Analysis.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Stock_info_form from \"components/Forms/FetchStockData.js\";\nimport { StockPriceChart } from \"variables/charts.js\";\nimport { SwitchTab } from \"components/Switch/ToggleSwitch\";\nimport Csv_reader from \"utils/data.js\"; // reactstrap components\n\nimport { Card, CardHeader, CardBody, CardTitle, Row, Col } from \"reactstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Analysis() {\n  _s();\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      stock_data = _useState2[0],\n      setLineData = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setAnalyticsData = _useState4[1]; //const [file, upLoadFile] = useState();\n  // function handleFileUpload(event) {\n  //   upLoadFile(event.target.files[0])\n  // }\n\n\n  function chart_data_parser(data) {\n    var dataset = [];\n\n    for (var i = 0; i < Object.keys(data).length; i++) {\n      var data_dict = {\n        label: Object.keys(data)[i],\n        pointRadius: 0,\n        pointHoverRadius: 0,\n        borderWidth: 3,\n        tension: 0.4,\n        fill: false,\n        data: data[Object.keys(data)[i]]\n      };\n      dataset.push(data_dict);\n    }\n\n    ;\n    var labels;\n\n    if (\"date\" in data) {\n      labels = data[\"date\"];\n      delete data[\"date\"];\n    } else if (\"Date\" in data) {\n      labels = data[\"Date\"];\n      delete data[\"Date\"];\n    } else {\n      labels = _toConsumableArray(Array(Object.keys(data).length).keys());\n    }\n\n    console.log(data);\n    var line_chart_data = {\n      labels: labels,\n      datasets: dataset\n    };\n    return line_chart_data;\n  }\n\n  function handleOnDrop(data) {\n    var parsed_data = {};\n\n    for (var i = 0; i < data[\"data\"].length; i++) {\n      if (i == 0) {\n        for (var j = 0; j < data[\"data\"][0].length; j++) {\n          parsed_data[data[\"data\"][0][j]] = [];\n        }\n      } else {\n        for (var _j = 0; _j < data[\"data\"][i].length; _j++) {\n          parsed_data[data[\"data\"][0][_j]].push(data[\"data\"][i][_j]);\n        }\n      }\n    }\n\n    setLineData(chart_data_parser(parsed_data));\n    setAnalyticsData(parsed_data);\n  }\n\n  function fetch_data(_x, _x2, _x3) {\n    return _fetch_data.apply(this, arguments);\n  }\n\n  function _fetch_data() {\n    _fetch_data = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(tickers, start_date, end_date) {\n      var request_url, ticker_list, i, response, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              request_url = \"http://localhost:8000/data/load_hist_stock_price/\".concat(start_date, \"/\").concat(end_date, \"?\");\n              ticker_list = tickers.split(',').map(function (item) {\n                return item.trim();\n              });\n\n              for (i = 0; i < ticker_list.length; i++) {\n                if (i == 0) {\n                  request_url += \"q=\".concat(ticker_list[i]);\n                  console.log(\"q=\".concat(ticker_list[i]));\n                } else {\n                  request_url += \"&q=\".concat(ticker_list[i]);\n                  console.log(\"q=\".concat(ticker_list[i]));\n                }\n              }\n\n              ;\n              _context.next = 6;\n              return fetch(request_url);\n\n            case 6:\n              response = _context.sent;\n              _context.next = 9;\n              return response.json();\n\n            case 9:\n              data = _context.sent;\n              setLineData(chart_data_parser(data));\n              setAnalyticsData(data);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _fetch_data.apply(this, arguments);\n  }\n\n  var tickers = Object.keys(data).filter(function (item) {\n    return item !== 'date';\n  }).join(\", \");\n\n  var stock_info_form = /*#__PURE__*/_jsxDEV(Stock_info_form, {\n    fetch_data: fetch_data\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 27\n  }, this);\n\n  var file_upload = /*#__PURE__*/_jsxDEV(Csv_reader, {\n    handleOnDrop: handleOnDrop\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 23\n  }, this); //TODO: categorize analysis: option -> options, filter -> filters\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                tag: \"h5\",\n                children: \"Get Data\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n              children: /*#__PURE__*/_jsxDEV(SwitchTab, {\n                Component1: stock_info_form,\n                Component2: file_upload,\n                button_name1: \"Fetch Data\",\n                button_name2: \"Upload File\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(CardBody, {\n              children: /*#__PURE__*/_jsxDEV(StockPriceChart, {\n                stock_data: stock_data\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"analysis\",\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                tag: \"h5\",\n                children: \"Stock Filters\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-category\",\n                children: [\"Tickers: \", tickers]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n              className: \"PCA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"analysis\",\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                tag: \"h5\",\n                children: \"PCA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-category\",\n                children: [\"Tickers: \", tickers]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n              className: \"PCA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"analysis\",\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                tag: \"h5\",\n                children: \"Liquidity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-category\",\n                children: [\"Tickers: \", tickers]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n              className: \"PCA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"analysis\",\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                tag: \"h5\",\n                children: \"Binomial\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-category\",\n                children: [\"Tickers: \", tickers]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n              className: \"PCA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"analysis\",\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                tag: \"h5\",\n                children: \"Black Sholes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-category\",\n                children: [\"Tickers: \", tickers]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n              className: \"PCA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"analysis\",\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                tag: \"h5\",\n                children: \"Geske\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-category\",\n                children: [\"Tickers: \", tickers]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n              className: \"PCA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"analysis\",\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                tag: \"h5\",\n                children: \"VaR\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-category\",\n                children: [\"Tickers: \", tickers]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n              className: \"PCA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Analysis, \"CGkDfKd2/pAmaKblUVGxNj5rLig=\");\n\n_c = Analysis;\nexport default Analysis;\n\nvar _c;\n\n$RefreshReg$(_c, \"Analysis\");","map":{"version":3,"sources":["/Users/xuanmingcui/Documents/projects/analytics-webapp/src/views/Analysis.js"],"names":["React","useEffect","useState","Stock_info_form","StockPriceChart","SwitchTab","Csv_reader","Card","CardHeader","CardBody","CardTitle","Row","Col","Analysis","stock_data","setLineData","data","setAnalyticsData","chart_data_parser","dataset","i","Object","keys","length","data_dict","label","pointRadius","pointHoverRadius","borderWidth","tension","fill","push","labels","Array","console","log","line_chart_data","datasets","handleOnDrop","parsed_data","j","fetch_data","tickers","start_date","end_date","request_url","ticker_list","split","map","item","trim","fetch","response","json","filter","join","stock_info_form","file_upload"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Stock_info_form from \"components/Forms/FetchStockData.js\";\nimport {StockPriceChart} from \"variables/charts.js\" ;\nimport { SwitchTab } from \"components/Switch/ToggleSwitch\";\nimport Csv_reader from \"utils/data.js\"\n\n// reactstrap components\nimport { Card, CardHeader, CardBody, CardTitle, Row, Col } from \"reactstrap\";\n\nfunction Analysis() {\n\n  const [stock_data, setLineData] = useState({});\n  const [data, setAnalyticsData] = useState({});\n  //const [file, upLoadFile] = useState();\n\n  // function handleFileUpload(event) {\n  //   upLoadFile(event.target.files[0])\n  // }\n\n  function chart_data_parser(data){\n    const dataset = [];\n    for (let i = 0; i < Object.keys(data).length; i ++){\n      let data_dict = {\n        label:Object.keys(data)[i],\n        pointRadius: 0,\n        pointHoverRadius: 0,\n        borderWidth: 3,\n        tension: 0.4,\n        fill: false,\n        data: data[Object.keys(data)[i]]};\n      dataset.push(data_dict)\n    };\n    let labels;\n    if (\"date\" in data){\n      labels = data[\"date\"];\n      delete data[\"date\"];\n    }\n    else if (\"Date\" in data){\n      labels = data[\"Date\"];\n      delete data[\"Date\"];\n    }\n    else{\n      labels = [...Array(Object.keys(data).length).keys()];\n    }\n    console.log(data)\n    const line_chart_data = {labels: labels, datasets: dataset};\n    return line_chart_data;\n  }\n\n\n  function handleOnDrop (data) {\n    let parsed_data = {};\n    for (let i = 0; i < data[\"data\"].length; i++){\n      if (i ==0){\n        for (let j = 0; j < data[\"data\"][0].length; j++){\n          parsed_data[data[\"data\"][0][j]]=[];\n        }\n      }\n      else{\n        for (let j = 0; j < data[\"data\"][i].length; j++){\n          parsed_data[data[\"data\"][0][j]].push(data[\"data\"][i][j]);\n        }\n      }\n    }\n    setLineData(chart_data_parser(parsed_data));\n    setAnalyticsData(parsed_data);\n  }\n  \n\n  async function fetch_data (tickers, start_date, end_date) {\n    \n    let request_url = `http://localhost:8000/data/load_hist_stock_price/${start_date}/${end_date}?`;\n    const ticker_list = tickers.split(',').map(function(item){\n      return item.trim();\n    })\n    for (let i = 0; i < ticker_list.length; i++){\n      if (i == 0){\n        request_url += `q=${ticker_list[i]}`;\n        console.log(`q=${ticker_list[i]}`)\n      }\n      else{\n        request_url += `&q=${ticker_list[i]}`;\n        console.log(`q=${ticker_list[i]}`)\n      }\n      \n    };\n    const response = await fetch(request_url);\n    const data = await response.json();\n\n    \n    setLineData(chart_data_parser(data));\n    setAnalyticsData(data);\n  }\n  const tickers = Object.keys(data).filter(item => item !== 'date').join(\", \");\n\n  const stock_info_form = <Stock_info_form fetch_data={fetch_data}/>;\n  const file_upload = <Csv_reader handleOnDrop={handleOnDrop}/>;\n  //TODO: categorize analysis: option -> options, filter -> filters\n  return (\n    <>\n      <div className=\"content\">\n      <Row>\n        <Col md=\"12\">\n          <Card>\n            <CardHeader>\n                  <CardTitle tag=\"h5\">Get Data</CardTitle>\n            </CardHeader>\n            <CardBody>\n              <SwitchTab Component1 = {stock_info_form} Component2 = {file_upload} button_name1 = \"Fetch Data\" button_name2 = \"Upload File\"/>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n      <Row>\n        <Col md=\"12\">\n            <Card>\n              <CardBody>\n                <StockPriceChart stock_data={stock_data} />\n              </CardBody>\n            </Card>\n        </Col>\n      </Row>\n          \n      <Row>\n        <Col md=\"12\">\n          <Card className=\"analysis\">\n            <CardHeader>\n              <CardTitle tag=\"h5\">Stock Filters</CardTitle>\n              <p className=\"card-category\">\n                Tickers: {tickers}\n              </p>\n            </CardHeader>\n            <CardBody className=\"PCA\">\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n      <Row>\n        <Col md=\"12\">\n          <Card className=\"analysis\">\n            <CardHeader>\n              <CardTitle tag=\"h5\">PCA</CardTitle>\n              <p className=\"card-category\">\n                Tickers: {tickers}\n              </p>\n            </CardHeader>\n            <CardBody className=\"PCA\">\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n      <Row>\n        <Col md=\"12\">\n          <Card className=\"analysis\">\n            <CardHeader>\n              <CardTitle tag=\"h5\">Liquidity</CardTitle>\n              <p className=\"card-category\">\n                Tickers: {tickers}\n              </p>\n            </CardHeader>\n            <CardBody className=\"PCA\">\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n      <Row>\n        <Col md=\"12\">\n          <Card className=\"analysis\">\n            <CardHeader>\n              <CardTitle tag=\"h5\">Binomial</CardTitle>\n              <p className=\"card-category\">\n                Tickers: {tickers}\n              </p>\n            </CardHeader>\n            <CardBody className=\"PCA\">\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n      <Row>\n        <Col md=\"12\">\n          <Card className=\"analysis\">\n            <CardHeader>\n              <CardTitle tag=\"h5\">Black Sholes</CardTitle>\n              <p className=\"card-category\">\n                Tickers: {tickers}\n              </p>\n            </CardHeader>\n            <CardBody className=\"PCA\">\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n      <Row>\n        <Col md=\"12\">\n          <Card className=\"analysis\">\n            <CardHeader>\n              <CardTitle tag=\"h5\">Geske</CardTitle>\n              <p className=\"card-category\">\n                Tickers: {tickers}\n              </p>\n            </CardHeader>\n            <CardBody className=\"PCA\">\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n      <Row>\n        <Col md=\"12\">\n          <Card className=\"analysis\">\n            <CardHeader>\n              <CardTitle tag=\"h5\">VaR</CardTitle>\n              <p className=\"card-category\">\n                Tickers: {tickers}\n              </p>\n            </CardHeader>\n            <CardBody className=\"PCA\">\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n      </div>\n    </>\n  );\n}\n\nexport default Analysis;\n"]},"metadata":{},"sourceType":"module"}